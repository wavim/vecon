(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function v(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function B(t,e=""){if(!Number.isSafeInteger(t)||t<0){const s=e&&`"${e}" `;throw new Error(`${s}expected integer >= 0, got ${t}`)}}function _(t,e,s=""){const r=v(t),i=t?.length,n=e!==void 0;if(!r||n&&i!==e){const c=s&&`"${s}" `,f=n?` of length ${e}`:"",o=r?`length=${i}`:`type=${typeof t}`;throw new Error(c+"expected Uint8Array"+f+", got "+o)}return t}function D(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function G(t,e){_(t,void 0,"digestInto() output");const s=e.outputLen;if(t.length<s)throw new Error('"digestInto() output" expected to be of length >='+s)}function e0(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function V(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function N(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function P(t,e){return t<<32-e|t>>>e}const q=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function z(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const t0=q?t=>t:t=>z(t);function n0(t){for(let e=0;e<t.length;e++)t[e]=z(t[e]);return t}const I=q?t=>t:n0;function s0(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function i0(t,e={}){const s=(i,n)=>t(n).update(i).digest(),r=t(void 0);return s.outputLen=r.outputLen,s.blockLen=r.blockLen,s.create=i=>t(i),Object.assign(s,e),Object.freeze(s)}const r0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$=BigInt(2**32-1),M=BigInt(32);function F(t,e=!1){return e?{h:Number(t&$),l:Number(t>>M&$)}:{h:Number(t>>M&$)|0,l:Number(t&$)|0}}function E(t,e,s,r,i){return t=t+e+i|0,r=P(r^t,16),s=s+r|0,e=P(e^s,12),{a:t,b:e,c:s,d:r}}function L(t,e,s,r,i){return t=t+e+i|0,r=P(r^t,8),s=s+r|0,e=P(e^s,7),{a:t,b:e,c:s,d:r}}class c0{buffer;buffer32;finished=!1;destroyed=!1;length=0;pos=0;blockLen;outputLen;constructor(e,s){B(e),B(s),this.blockLen=e,this.outputLen=s,this.buffer=new Uint8Array(e),this.buffer32=V(this.buffer)}update(e){D(this),_(e);const{blockLen:s,buffer:r,buffer32:i}=this,n=e.length,c=e.byteOffset,f=e.buffer;for(let o=0;o<n;){this.pos===s&&(I(i),this.compress(i,0,!1),I(i),this.pos=0);const u=Math.min(s-this.pos,n-o),h=c+o;if(u===s&&!(h%4)&&o+u<n){const l=new Uint32Array(f,h,Math.floor((n-o)/4));I(l);for(let d=0;o+s<n;d+=i.length,o+=s)this.length+=s,this.compress(l,d,!1);I(l);continue}r.set(e.subarray(o,o+u),this.pos),this.pos+=u,this.length+=u,o+=u}return this}digestInto(e){D(this),G(e,this);const{pos:s,buffer32:r}=this;this.finished=!0,N(this.buffer.subarray(s)),I(r),this.compress(r,0,!0),I(r);const i=V(e);this.get().forEach((n,c)=>i[c]=t0(n))}digest(){const{buffer:e,outputLen:s}=this;this.digestInto(e);const r=e.slice(0,s);return this.destroy(),r}_cloneInto(e){const{buffer:s,length:r,finished:i,destroyed:n,outputLen:c,pos:f}=this;return e||=new this.constructor({dkLen:c}),e.set(...this.get()),e.buffer.set(s),e.destroyed=n,e.finished=i,e.length=r,e.pos=f,e.outputLen=c,e}clone(){return this._cloneInto()}}function X(t,e,s,r,i,n,c,f,o,u,h,l,d,b,g,y,p,m,w,O){let a=0;for(let A=0;A<r;A++)({a:i,b:o,c:d,d:p}=E(i,o,d,p,s[e+t[a++]])),{a:i,b:o,c:d,d:p}=L(i,o,d,p,s[e+t[a++]]),{a:n,b:u,c:b,d:m}=E(n,u,b,m,s[e+t[a++]]),{a:n,b:u,c:b,d:m}=L(n,u,b,m,s[e+t[a++]]),{a:c,b:h,c:g,d:w}=E(c,h,g,w,s[e+t[a++]]),{a:c,b:h,c:g,d:w}=L(c,h,g,w,s[e+t[a++]]),{a:f,b:l,c:y,d:O}=E(f,l,y,O,s[e+t[a++]]),{a:f,b:l,c:y,d:O}=L(f,l,y,O,s[e+t[a++]]),{a:i,b:u,c:g,d:O}=E(i,u,g,O,s[e+t[a++]]),{a:i,b:u,c:g,d:O}=L(i,u,g,O,s[e+t[a++]]),{a:n,b:h,c:y,d:p}=E(n,h,y,p,s[e+t[a++]]),{a:n,b:h,c:y,d:p}=L(n,h,y,p,s[e+t[a++]]),{a:c,b:l,c:d,d:m}=E(c,l,d,m,s[e+t[a++]]),{a:c,b:l,c:d,d:m}=L(c,l,d,m,s[e+t[a++]]),{a:f,b:o,c:b,d:w}=E(f,o,b,w,s[e+t[a++]]),{a:f,b:o,c:b,d:w}=L(f,o,b,w,s[e+t[a++]]);return{v0:i,v1:n,v2:c,v3:f,v4:o,v5:u,v6:h,v7:l,v8:d,v9:b,v10:g,v11:y,v12:p,v13:m,v14:w,v15:O}}const k={CHUNK_START:1,CHUNK_END:2,PARENT:4,ROOT:8,KEYED_HASH:16,DERIVE_KEY_CONTEXT:32,DERIVE_KEY_MATERIAL:64},x=r0.slice(),Y=(()=>{const t=Array.from({length:16},(r,i)=>i),e=r=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(i=>r[i]),s=[];for(let r=0,i=t;r<7;r++,i=e(i))s.push(...i);return Uint8Array.from(s)})();class H extends c0{chunkPos=0;chunksDone=0;flags=0;IV;state;stack=[];posOut=0;bufferOut32=new Uint32Array(16);bufferOut;chunkOut=0;enableXOF=!0;constructor(e={},s=0){super(64,e.dkLen===void 0?32:e.dkLen);const{key:r,context:i}=e,n=i!==void 0;if(r!==void 0){if(n)throw new Error('Only "key" or "context" can be specified at same time');_(r,32,"key");const c=r.slice();this.IV=V(c),I(this.IV),this.flags=s|k.KEYED_HASH}else if(n){_(i,void 0,"context");const c=i,f=new H({dkLen:32},k.DERIVE_KEY_CONTEXT).update(c).digest();this.IV=V(f),I(this.IV),this.flags=s|k.DERIVE_KEY_MATERIAL}else this.IV=x.slice(),this.flags=s;this.state=this.IV.slice(),this.bufferOut=e0(this.bufferOut32)}get(){return[]}set(){}b2Compress(e,s,r,i=0){const{state:n,pos:c}=this,{h:f,l:o}=F(BigInt(e),!0),{v0:u,v1:h,v2:l,v3:d,v4:b,v5:g,v6:y,v7:p,v8:m,v9:w,v10:O,v11:a,v12:A,v13:R,v14:U,v15:Z}=X(Y,i,r,7,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],x[0],x[1],x[2],x[3],f,o,c,s);n[0]=u^m,n[1]=h^w,n[2]=l^O,n[3]=d^a,n[4]=b^A,n[5]=g^R,n[6]=y^U,n[7]=p^Z}compress(e,s=0,r=!1){let i=this.flags;if(this.chunkPos||(i|=k.CHUNK_START),(this.chunkPos===15||r)&&(i|=k.CHUNK_END),r||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,i,e,s),this.chunkPos+=1,this.chunkPos===16||r){let n=this.state;this.state=this.IV.slice();for(let c,f=this.chunksDone+1;(r||!(f&1))&&(c=this.stack.pop());f>>=1)this.buffer32.set(c,0),this.buffer32.set(n,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|k.PARENT,this.buffer32,0),n=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(n)}this.pos=0}_cloneInto(e){e=super._cloneInto(e);const{IV:s,flags:r,state:i,chunkPos:n,posOut:c,chunkOut:f,stack:o,chunksDone:u}=this;return e.state.set(i.slice()),e.stack=o.map(h=>Uint32Array.from(h)),e.IV.set(s),e.flags=r,e.chunkPos=n,e.chunksDone=u,e.posOut=c,e.chunkOut=f,e.enableXOF=this.enableXOF,e.bufferOut32.set(this.bufferOut32),e}destroy(){this.destroyed=!0,N(this.state,this.buffer32,this.IV,this.bufferOut32),N(...this.stack)}b2CompressOut(){const{state:e,pos:s,flags:r,buffer32:i,bufferOut32:n}=this,{h:c,l:f}=F(BigInt(this.chunkOut++));I(i);const{v0:o,v1:u,v2:h,v3:l,v4:d,v5:b,v6:g,v7:y,v8:p,v9:m,v10:w,v11:O,v12:a,v13:A,v14:R,v15:U}=X(Y,0,i,7,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],x[0],x[1],x[2],x[3],f,c,s,r);n[0]=o^p,n[1]=u^m,n[2]=h^w,n[3]=l^O,n[4]=d^a,n[5]=b^A,n[6]=g^R,n[7]=y^U,n[8]=e[0]^p,n[9]=e[1]^m,n[10]=e[2]^w,n[11]=e[3]^O,n[12]=e[4]^a,n[13]=e[5]^A,n[14]=e[6]^R,n[15]=e[7]^U,I(i),I(n),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,N(this.buffer.subarray(this.pos));let e=this.flags|k.ROOT;this.stack.length?(e|=k.PARENT,I(this.buffer32),this.compress(this.buffer32,0,!0),I(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):e|=(this.chunkPos?0:k.CHUNK_START)|k.CHUNK_END,this.flags=e,this.b2CompressOut()}writeInto(e){D(this,!1),_(e),this.finish();const{blockLen:s,bufferOut:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=s&&this.b2CompressOut();const c=Math.min(s-this.posOut,n-i);e.set(r.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(e)}xof(e){return B(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(G(e,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}}const o0=i0((t={})=>new H(t));var f0=Object.defineProperty,K=(t,e)=>f0(t,"name",{value:e,configurable:!0});const j=[[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0],[0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,1,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1],[0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,1,0],[0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1],[0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0,0,0,1,1,0,1,0,0,0,0,1,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,1,0],[0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,1,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,1,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,0,1],[0,0,0,1,0,1,0,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0],[0,0,1,0,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0],[0,0,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1],[1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1],[1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1],[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,1,0],[0,0,0,0,0,1,0,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,0,1,1,0,0],[0,0,1,0,0,0,0,1,0,1,1,0,1,0,1,0,0,0,1,0,0,0,0,0],[0,1,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1],[0,1,0,0,1,0,1,0,0,0,0,0,1,0,0,1,0,1,0,0,0,1,0,0],[0,1,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0],[1,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,1,0,1],[1,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,1,1,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,1,1,0,0],[0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,1,0,1,0,1,0],[0,0,1,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,1,0,1,1,0,0],[0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,1,1,1,0,0,1],[0,1,0,0,0,1,1,0,1,0,0,0,0,1,0,0,0,0,0,1,0,1,1,0],[1,0,0,0,1,0,1,0,0,1,1,0,1,0,0,0,0,1,0,0,0,0,1,0],[1,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,1],[1,0,1,0,0,1,0,0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0],[1,1,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,0,1,0,0,1,0,0]],u0=[{face:"T",cell:"000,200 200,100 200,300"},{face:"T",cell:"200,100 200,300 400,200"},{face:"T",cell:"200,100 400,000 400,200"},{face:"T",cell:"400,000 400,200 600,100"},{face:"T",cell:"400,200 600,100 600,300"},{face:"T",cell:"600,100 600,300 800,200"},{face:"R",cell:"600,300 800,200 800,400"},{face:"R",cell:"600,300 600,500 800,400"},{face:"R",cell:"600,500 800,400 800,600"},{face:"R",cell:"600,500 600,700 800,600"},{face:"R",cell:"400,600 600,500 600,700"},{face:"R",cell:"400,600 400,800 600,700"},{face:"L",cell:"200,700 400,600 400,800"},{face:"L",cell:"200,500 200,700 400,600"},{face:"L",cell:"000,600 200,500 200,700"},{face:"L",cell:"000,400 000,600 200,500"},{face:"L",cell:"000,400 200,300 200,500"},{face:"L",cell:"000,200 000,400 200,300"},{face:"T",cell:"200,300 400,200 400,400"},{face:"T",cell:"400,200 400,400 600,300"},{face:"R",cell:"400,400 600,300 600,500"},{face:"R",cell:"400,400 400,600 600,500"},{face:"L",cell:"200,500 400,400 400,600"},{face:"L",cell:"200,300 200,500 400,400"}];function T(t,e){return t.min+e%(t.max-t.min)}K(T,"modulo");function J(t,e){const s=T(e.h,t[0]),r=T(e.s,t[1]),i=T(e.l,t[2]),n=T(e.shift,t[3]),c=T(e.alpha,t[4]),f=j[t[5]%j.length],o=u0.map(({face:l,cell:d},b)=>{const g=T(e.variance,(t[6]^b*2654435769)>>>0),y=e.lighting[l];let p=`<polygon points="${d}" fill="hsl(${s+g} ${r} ${i+y})" />`;return f[b]&&(p+=`<polygon points="${d}" fill="hsl(${s+g+n} ${r} ${i+y} / ${c.toFixed(2)})" />`),p}),u=-e.space,h=800+2*e.space;return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${u} ${u} ${h} ${h}" shape-rendering="crispEdges" style="${e.style}">${o.join("")}</svg>`}K(J,"render");function Q(t,e={}){const s=s0(t),r=o0(s,{dkLen:14}).buffer;return J(new Uint16Array(r),{h:{min:0,max:360,...e.h},s:{min:70,max:100,...e.s},l:{min:45,max:65,...e.l},shift:{min:60,max:300,...e.shift},alpha:{min:.4,max:1,...e.alpha},variance:{min:-5,max:20,...e.variance},lighting:{T:10,L:-4,R:-8,...e.lighting},space:e.space??0,style:e.style??""})}K(Q,"vecon");const C=document.getElementById("frame"),S=document.getElementById("input"),W=()=>{C.innerHTML=Q(S.value,{space:200,style:"width: 100%;"})};W();S.oninput=W;C.onclick=async()=>{const t=new Image;t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(C.innerHTML)}`,await new Promise((i,n)=>{t.onload=i,t.onerror=n});const e=document.createElement("canvas");[e.width,e.height]=[1200,1200],e.getContext("2d").drawImage(t,0,0,1200,1200);const r=document.createElement("a");r.download=`vecon-'${S.value}'`,r.href=e.toDataURL("image/png",1),r.click(),r.remove()};
